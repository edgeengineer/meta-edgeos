# EdgeOS USB Network Router Advertisement Configuration
# This config enables IPv6 on the USB NCM interface

interface usb0 {
    # Send Router Advertisements
    AdvSendAdvert on;

    # Send RAs frequently for quick host configuration
    MinRtrAdvInterval 3;
    MaxRtrAdvInterval 10;

    # Low preference so macOS ICS can override if needed
    AdvDefaultPreference low;

    # Don't advertise as default router (we're just enabling IPv6)
    AdvDefaultLifetime 0;

    # Use SLAAC, not DHCPv6
    AdvManagedFlag off;
    AdvOtherConfigFlag off;

    # Advertise the link-local prefix
    # This ensures hosts configure their own link-local addresses
    prefix fe80::/64 {
        AdvOnLink on;
        AdvAutonomous on;
        AdvRouterAddr on;
    };
};